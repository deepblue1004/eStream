<!DOCTYPE html>
<html class="no-js">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Do you want to rent a hostel? 
            Uveve Management Hostel For Rent, 
            Uveve is One of the Reputable Hostel Management Company 
            That Trusted By Over Thoursands Of Tenants. 
            Visit Us Today To Know More.">
    <meta name="keywords" content="Uveve, Uveve management, Uveve Hostel, 
            Uveve Student Hostel, Uveve Hostel For Rent, Room For Rent">
    <meta name="author" content="Uveve">

    <title> For Admin ADD HOSTEL | Uveve management</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <style>
        body {
            padding-top: 50px;
        }

        .navbar-inverse .navbar-nav>li>a {
            color: #DBE4E1;
        }
    </style>
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="img/logo.png" />
    <!-- CSS
		================================================== -->
    <!-- Fontawesome Icon font -->
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <!-- bootstrap.min css -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Animate.css -->
    <link rel="stylesheet" href="css/animate.css">
    <!-- Owl Carousel -->
    <link rel="stylesheet" href="css/owl.carousel.css">
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/main.css">
    <!-- Media Queries -->
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/media-queries.css">

    <script src="js/jquery-1.12.2.min.js"></script>

    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script src="https://www.gstatic.com/firebasejs/4.3.0/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyAKvUrN-Z_d0Zrpq_-fmAjw9zuZ9pB77EQ",
            authDomain: "uveve-hostel-management.firebaseapp.com",
            databaseURL: "https://uveve-hostel-management.firebaseio.com",
            projectId: "uveve-hostel-management",
            storageBucket: "uveve-hostel-management.appspot.com",
            messagingSenderId: "769656976152"
        };
        firebase.initializeApp(config);
    </script>

    <script type="text/javascript">
        function Toggle() {
            $(".body-down").toggle()
        };


        var inputGlobal;
        function openFile(event) {
            var input = event.target.files[0];
            inputGlobal = input;
        };

        $(function () {
            var URL;

            $("#Upload").click(function (e) {
                var storageRef = firebase.storage().ref();
                var display = "";
                var metadata = {
                    contentType: 'NewHostelImages/jpeg'

                };
                $("#process").text("Uploading...");
                var uploadTask = storageRef.child('NewHostelImages/' + inputGlobal.name).put(inputGlobal, metadata).then(function () {

                    storageRef.child('NewHostelImages/' + inputGlobal.name).getDownloadURL().then(function (url) {


                        $("#process").hide();
                        display += "<img src=\"" + url + "\ width=\"250px\" height=\"250px\" >";
                        $("#result").html(display);
                        alert("Upload successfully!");

                        URL = url;

                    });

                });
            });


            $(".add").click(function (e) {

                var name = $(".name").val();
                var price = $(".price").val();
                var size = $(".size").val();
                var type = $(".type").val();
                var address = $(".address").val();
                var image = URL;

                if (name == "" || price == "" || size == "" || type == "" || address == "")
                    $("#error").html("<h4 style=\"color:red\">Please fill in all the required field.</h4>");
                else {

                    var user = firebase.auth().currentUser;

                    var obj = new Object();
                    obj.Name = name;
                    obj.Price = price;
                    obj.Size = size;
                    obj.Type = type;
                    obj.Address = address;
                    obj.Image = image;



                    // Get a key for a new Member.
                    var newPostKey = firebase.database().ref().child('NewHostel').push().key;

                    var updates = {};
                    updates['/NewHostel/' + newPostKey] = obj;


                    firebase.database().ref().update(updates).then(function () {

                        alert("Insert successfully");
                        $("#result").html("");
                        $(".name").val("");
                        $(".price").val("");
                        $(".size").val("");
                        $(".type").val("");
                        $(".address").val("");
                        $(".hostel").val("");

                        window.location.href = "NewHostel.html";
                    });
                }
            });
        });
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({ pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE, autoDisplay: false }, 'google_translate_element');
        }
    </script>
</head>

<body>
    <header id="navigation" class="navbar navbar-inverse navbar-color">
        <div class="container">
            <div class="top-panel">
                <button class="mynavtog" onclick="javascript:Toggle()">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                <a id="no-pad" href="#body"><img class="logo" src="img/logo.png" width="50px" height="50px" alt="uveve" /></a>
                <div class="body-nav">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="blog.html">News & Updates</a></li>
                        <li><a href="types">Type & Rates</a></li>
                        <li><a href="contactUs.html">Contact Us</a></li>
                        <li><a href="FAQ.html">FAQ</a></li>
                        <li><a href="SignInPage.html">Tenants Login</a></li>
                        <li id="btn-search"><i class="fa fa-search" aria-hidden="true"></i></li>
                    </ul>
                </div>
            </div>
        </div>
        <script>
            // Search Engine
            (function () {
                var cx = '005905430136159387705:v3y8chmhpfg';
                var gcse = document.createElement('script');
                gcse.type = 'text/javascript';
                gcse.async = true;
                gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(gcse, s);
                $("#btn-search").click(function () {
                    $(".nav-search").toggle();
                });
            })();
        </script>
        <div class="nav-search">
            <gcse:search></gcse:search>
        </div>
        <div class="body-down">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="blog.html">News & Updates</a></li>
                <li><a href="types">Type & Rates</a></li>
                <li><a href="contactUs.html">Contact Us</a></li>
                <li><a href="FAQ.html">FAQ</a></li>
                <li><a href="SignInPage.html">Tenants Login</a></li>
                <li>
                    <gcse:search></gcse:search>
                </li>
            </ul>
        </div>
    </header>
    <div class="container">
        <div class="row">

            <!-- section title -->
            <div class="title text-center wow fadeIn" data-wow-duration="500ms">
                <h2>ADD <span class="color">SERVICE</span></h2>
                <div class="border"></div>
            </div>
            <!-- /section title -->

            <!-- Update Form -->
            <hr>
        </div>
        <div style="max-width: 650px; margin: auto;">
            <h1 class="page-header">For Admin ADD HOSTEL</h1>
            <p class="lead">Select a PNG or JPEG image, having maximum size <span id="max-size"></span> KB.</p>
            <p>Image:<input type='file' accept='image/*' onchange='openFile(event)'><br></p>
            <button class="btn btn-default" id="Upload">Upload</button>

            <div id="process"></div>
            <div id="result">
            </div>
            <br/><br/>


        </div>

    </div>

    <form class="form-horizontal" role="form">
        <div class="form-group">
            <label class="col-lg-3 control-label">Hostel Name:</label>
            <div class="col-lg-8">
                <input class="form-control name" type="text">
            </div>
        </div>
        <div class="form-group">
            <label class="col-lg-3 control-label">Price: RM</label>
            <div class="col-lg-8">
                <input class="form-control price" type="text">
            </div>
        </div>
        <div class="form-group">
            <label class="col-lg-3 control-label">Size: </label>
            <div class="col-lg-8">
                <input class="form-control size" type="text">
            </div>
        </div>
        <div class="form-group">
            <label class="col-lg-3 control-label">Type: </label>
            <div class="col-lg-8">
                <input class="form-control type" type="text">
            </div>
        </div>
        <div class="form-group">
            <label class="col-lg-3 control-label">Address: </label>
            <div class="col-lg-8">
                <input class="form-control address" type="text">
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-3 control-label"></label>
            <div class="col-md-8">

                <div><span id="error"></span></div>
                <input class="btn btn-primary add" value="Add" type="button">
                <input class="btn btn-default" value="Cancel" type="reset">

            </div>
        </div>
    </form>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <!-------------- Footer Section --------------------->

    <!-- Start Footer Area
		========================================== -->
    <footer id="footer">
        <div class="container">
            <div class="row wow fadeInUp" data-wow-duration="500ms">
                <div class="col-lg-12">

                    <!-- Footer Social Links -->
                    <div class="social-icon">
                        <ul>
                            <li><a href="https://www.facebook.com"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://www.twitter.com"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="https://plus.google.com"><i class="fa fa-google-plus"></i></a></li>
                            <li><a href="https://www.youtube.com"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.likedin.com"><i class="fa fa-linkedin"></i></a></li>
                        </ul>
                    </div>
                    <!--/. End Footer Social Links -->

                    <!-- copyright -->
                    <div class="copyright text-center">
                        <a href="index.html">
                                    <img src="img/logo.png" alt="Uveve" width="80px" height="80px"/> 
                                </a>
                        <br />

                        <p>Design And Developed by <a href="http://www.uveve.ml"> Uveve Management</a>. Copyright &copy; 2017.
                            All Rights Reserved.
                        </p>
                    </div>
                    <!-- /copyright -->




                    <div id="google_translate_element"></div>
                </div>
                <!-- end col lg 12 -->
            </div>
            <!-- end row -->
        </div>
        <!-- end container -->
    </footer>
    <!-- end footer -->

    <!-- Main jQuery -->
    <script src="js/jquery-1.12.2.min.js"></script>
    <!-- Bootstrap 3.1 -->
    <script src="js/bootstrap.min.js"></script>
    <!-- jQuery Easing -->
    <script src="js/jquery.easing-1.3.pack.js"></script>
</body>

</html>